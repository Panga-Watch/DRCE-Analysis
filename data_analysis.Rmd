---
title: "Analysis"
author: "*Compiled on `r date()` by `r Sys.info()['user']`*"
output: 
  html_document:
    toc: true
    toc_float: yes
    number_sections: true
    theme: cerulean
    highlight: haddock
    includes: 
  pdf_document:
    toc: true
---

## Summary
Mixed Logit Analysis on the DRCE conducted in Indonesia and Mexico. Split into four different models; Standard opt-out model (Model I), Pooled (Model II), Unforced Responses (Model III), and Forced Responses (Model IV).

Will try to simulate a mixed logit model based off of this: https://cran.r-project.org/web/packages/mlogit/vignettes/c4.relaxiid.html
 
## Data Source 
Personal Interviews
 
## Reference 
Panga Watch
 
## Downloaded
September 30, 2019
 
Time range: 
2019
 
## Format
comma separated values

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(survival)
library(AlgDesign)
library(DT)
library(stargazer)
library(xtable)
library(here)
library("mlogit")
```



```{r}
data("ModeCanada", package = "mlogit")
MC <- mlogit.data(ModeCanada, subset = noalt == 4, chid.var = "case",
                  alt.var = "alt", drop.index = TRUE)
ml.MC <- mlogit(choice ~ freq + cost + ivt + ovt | urban + income, MC, 
reflevel = 'car', alt.subset = c("car", "train", "air"))
hl.MC <- mlogit(choice ~ freq + cost + ivt + ovt | urban + income, MC, 
reflevel = 'car', alt.subset = c("car", "train", "air"), heterosc = TRUE)
coef(summary(hl.MC))[11:12, ]

summary(hl.MC)
```

```{r}
standard_opt_out <- read_csv("int/standard_opt_out.csv") %>%
  select("case" = "survey_id", "choice" = "RES", "alt" = "package", sos, info, own, noalt) %>%
  mutate(alt = as.character(alt))

MC_standard <- mlogit.data(standard_opt_out, subset = noalt == 3, chid.var = "case",
                  alt.var = "alt", drop.index = TRUE)

hl.MC_standard <- mlogit(choice ~ sos + info + own, MC_standard, heterosc = TRUE)
```


